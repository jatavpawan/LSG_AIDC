{"version":3,"sources":["../src/app/dp-day-picker/dp-day-picker.component.ts"],"names":[],"mappings":"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","file":"app/dp-day-picker/dp-day-picker.component.js","sourcesContent":["import {CalendarService} from '../dp-calendar/config/calendar.service';\nimport {\n  Component,\n  forwardRef,\n  HostListener,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ElementRef,\n  ViewChild,\n  AfterViewInit,\n  Renderer,\n  OnDestroy\n} from '@angular/core';\nimport {DpCalendarComponent} from '../dp-calendar/dp-calendar.component';\nimport * as moment from 'moment';\nimport {Moment} from 'moment';\nimport {DayPickerService} from './service/day-picker.service';\nimport {IDayPickerConfig} from './service/day-picker-config.model';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR, FormControl, NG_VALIDATORS, Validator} from '@angular/forms';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDpDayPickerApi} from './dp-day-picker.api';\nimport {DomHelper} from '../common/services/dom-appender/dom-appender.service';\nimport debounce from '../common/decorators/decorators';\n\nexport type CalendarValue = string | string[] | Moment | Moment[];\n\n@Component({\n  selector: 'dp-day-picker',\n  templateUrl: './dp-day-picker.component.html',\n  styleUrls: ['./dp-day-picker.component.less'],\n  entryComponents: [DpCalendarComponent],\n  providers: [\n    DomHelper,\n    CalendarService,\n    DayPickerService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DpDayPickerComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DpDayPickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class DpDayPickerComponent implements OnChanges,\n                                             OnInit,\n                                             AfterViewInit,\n                                             OnDestroy,\n                                             ControlValueAccessor,\n                                             Validator {\n  private shouldNgInit: boolean = true;\n  @Input('config') private userConfig: IDayPickerConfig;\n\n  // attributes\n  @Input() private placeholder: string = '';\n  @Input() private disabled: boolean = false;\n\n  // validations\n  @Input() private minDate: Moment | string;\n  @Input() private maxDate: Moment | string;\n\n  @ViewChild('container') calendarContainer: ElementRef;\n\n  private _areCalendarsShown: boolean = false;\n  private hideStateHelper: boolean = false;\n  private pickerConfig: IDayPickerConfig;\n  private _value: Moment[] = [];\n  private userValue;\n  private viewValue: string;\n  private calendarWrapper: HTMLElement;\n  private appendToElement: HTMLElement;\n  private inputElement: HTMLElement;\n  private popupElem: HTMLElement;\n  private handleInnerElementClickUnlisteners: Function[] = [];\n  validateFn: Function;\n\n  private get value(): Moment[] {\n    return this._value;\n  }\n\n  private set value(value: Moment[]) {\n    this._value = value;\n    this.viewValue = this._value ? this._value.map(val => val.format(this.pickerConfig.format)).join(', ') : '';\n    this.onChangeCallback(this.processOnChangeCallback(value));\n  }\n\n  private get areCalendarsShown(): boolean {\n    return this._areCalendarsShown;\n  }\n\n  private set areCalendarsShown(value: boolean) {\n    if (value) {\n      this.domHelper.appendElementToPosition({\n        container: this.appendToElement,\n        element: this.calendarWrapper,\n        anchor: this.inputElement,\n        dimElem: this.popupElem,\n        drops: this.pickerConfig.drops,\n        opens: this.pickerConfig.opens\n      });\n    }\n    this._areCalendarsShown = value;\n  }\n\n  api: IDpDayPickerApi = <IDpDayPickerApi>{};\n\n  constructor(private dayPickerService: DayPickerService,\n              private domHelper: DomHelper,\n              private elemRef: ElementRef,\n              private renderer: Renderer) {\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.hideStateHelper = true;\n  }\n\n  @HostListener('document:click')\n  onBodyClick() {\n    if (!this.hideStateHelper) {\n      this.hideCalendar();\n    }\n    this.hideStateHelper = false;\n  }\n\n  @HostListener('document:scroll')\n  @HostListener('window:resize')\n  onScroll() {\n    if (this.areCalendarsShown) {\n      this.domHelper.setElementPosition({\n        container: this.appendToElement,\n        element: this.calendarWrapper,\n        anchor: this.inputElement,\n        dimElem: this.popupElem,\n        drops: this.pickerConfig.drops,\n        opens: this.pickerConfig.opens\n      })\n    }\n  }\n\n  ngOnInit() {\n    if (this.shouldNgInit) {\n      this.init();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.shouldNgInit = false;\n    const {minDate, maxDate} = changes;\n    this.init();\n\n    if (minDate || maxDate) {\n      this.initValidators();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.calendarWrapper = <HTMLElement> this.calendarContainer.nativeElement;\n    this.inputElement = this.elemRef.nativeElement.querySelector('input');\n    this.popupElem = this.elemRef.nativeElement.querySelector('.dp-popup');\n    this.handleInnerElementClick(this.popupElem);\n\n    if (this.pickerConfig.appendTo) {\n      if (typeof this.pickerConfig.appendTo === 'string') {\n        this.appendToElement = <HTMLElement>document.querySelector(this.pickerConfig.appendTo);\n      } else {\n        this.appendToElement = this.pickerConfig.appendTo;\n      }\n    } else {\n      this.appendToElement = this.elemRef.nativeElement;\n    }\n\n    this.appendToElement.appendChild(this.calendarWrapper);\n  }\n\n  handleInnerElementClick(element: HTMLElement) {\n    this.handleInnerElementClickUnlisteners.push(\n      this.renderer.listen(element, 'click', () => {\n        this.hideStateHelper = true;\n      })\n    );\n  }\n\n  writeValue(value: Moment): void {\n    if (value) {\n      this.pickerConfig.userValueType =\n        this.pickerConfig.userValueType || (typeof value === 'string' ? 'string' : 'object');\n      this.userValue = value;\n      this.init();\n    }\n  }\n\n  processOnChangeCallback(value: Moment[]): CalendarValue {\n    if (!value || value.length === 0) {\n      return null;\n    }\n\n    if (value.length > 0 && !this.pickerConfig.allowMultiSelect) {\n      return this.pickerConfig.userValueType === 'string' ? this.viewValue : value[0];\n    }\n\n    return this.pickerConfig.userValueType === 'string' ? this.viewValue.split(', ') : value;\n  }\n\n  onChangeCallback(_: any) {\n  };\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(c: FormControl) {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(c);\n    } else {\n      return () => null;\n    }\n  }\n\n  isDateValid(value: string) {\n    if (this.dayPickerService.isDateValid(value, this.pickerConfig.format)) {\n      this.value = this.value.concat(moment(value, this.pickerConfig.format));\n    }\n  }\n\n  init() {\n    this.pickerConfig = this.dayPickerService.getConfig(this.userConfig);\n    if (this.userValue) {\n      if (Array.isArray(this.userValue)) {\n        if (this.userConfig.allowMultiSelect === undefined) {\n          // set allowMultiSelect to true unless explicitly set by user\n          this.pickerConfig.allowMultiSelect = true;\n        }\n        if (this.pickerConfig.allowMultiSelect) {\n          this.value = this.userValue.map(val => UtilsService.convertToMoment(val, this.pickerConfig.format));\n        } else {\n          this.value = [UtilsService.convertToMoment(this.userValue[0], this.pickerConfig.format)];\n        }\n      } else if (typeof this.userValue === 'string') {\n        if (this.userConfig.userValueType === undefined) {\n          // set userValueType to 'string' unless explicitly set by user\n          this.pickerConfig.userValueType = 'string';\n        }\n        if (this.userValue.includes(',') && this.userConfig.allowMultiSelect === undefined) {\n          // set allowMultiSelect to true unless explicitly set by user\n          this.pickerConfig.allowMultiSelect = true;\n        }\n        if (this.pickerConfig.allowMultiSelect) {\n          this.value = this.userValue.split(',')\n            .map(val => UtilsService.convertToMoment(val.trim(), this.pickerConfig.format));\n        } else {\n          this.value = [UtilsService.convertToMoment(this.userValue, this.pickerConfig.format)];\n        }\n      } else {\n        this.value = [UtilsService.convertToMoment(this.userValue, this.pickerConfig.format)];\n      }\n    }\n    this.initApi();\n  }\n\n  initValidators() {\n    this.validateFn = this.dayPickerService.createValidator({\n      minDate: typeof this.minDate === 'string' ?\n        moment(<string>this.minDate, this.pickerConfig.format) : <Moment>this.minDate,\n      maxDate: typeof this.maxDate === 'string' ?\n        moment(<string>this.maxDate, this.pickerConfig.format) : <Moment>this.maxDate\n    }, this.pickerConfig.format);\n    this.onChangeCallback(this.processOnChangeCallback(this.value));\n  }\n\n  initApi() {\n    this.api = {\n      open: this.showCalendars.bind(this),\n      close: this.hideCalendar.bind(this)\n    };\n  }\n\n  daySelected() {\n    if (this.pickerConfig.closeOnSelect && !this.pickerConfig.allowMultiSelect) {\n      setTimeout(this.hideCalendar.bind(this), this.pickerConfig.closeOnSelectDelay);\n    }\n  }\n\n  inputFocused() {\n    this.hideStateHelper = false;\n    this.areCalendarsShown = true;\n  }\n\n  showCalendars() {\n    this.hideStateHelper = true;\n    this.areCalendarsShown = true;\n  }\n\n  hideCalendar() {\n    this.areCalendarsShown = false;\n  }\n\n  onViewDateChange(dates: string) {\n    const dateStrings = dates.split(',').map(date => date.trim());\n    const validDateStrings = dateStrings.filter(date => this.dayPickerService.isDateValid(date, this.pickerConfig.format));\n    if (!this.pickerConfig.allowMultiSelect && validDateStrings.length > 0) {\n      // Single selection\n      this.value = validDateStrings[0] !== '' ? [moment(validDateStrings[0], this.pickerConfig.format)] : [];\n    } else if (validDateStrings.length === dateStrings.length && this.pickerConfig.allowMultiSelect) {\n      // Multi selection\n      this.value = validDateStrings\n        .map(date => date !== '' ? moment(date, this.pickerConfig.format) : null)\n        .filter(date => date !== null);\n    }\n  }\n\n  onKeydown(e: KeyboardEvent) {\n    if (e.keyCode === 13) {\n      this.areCalendarsShown = !this.areCalendarsShown;\n      e.preventDefault();\n    }\n\n    if (e.keyCode === 27) {\n      this.areCalendarsShown = false;\n      e.preventDefault();\n    }\n\n    if (this.pickerConfig.disableKeypress) {\n      e.preventDefault();\n    }\n  }\n\n  ngOnDestroy() {\n    this.handleInnerElementClickUnlisteners.forEach(ul => ul())\n    this.appendToElement.removeChild(this.calendarWrapper);\n  }\n}"],"sourceRoot":"/source/"}