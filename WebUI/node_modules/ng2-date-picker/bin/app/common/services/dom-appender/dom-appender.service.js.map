{"version":3,"sources":["../src/app/common/services/dom-appender/dom-appender.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAyB,eAAe,CAAC,CAAA;AAIzC;IAAA;IAkFA,CAAC;IAhFgB,0BAAgB,GAA/B,UAAgC,OAAoB,EAAE,MAAmB,EAAE,KAAa;QACtF,IAAA,mCAAoD,EAA7C,YAAG,EAAE,kBAAM,CAAmC;QAErD,EAAE,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,CAAC,CAAC;YACrB,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAC9D,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;QACpF,CAAC;IACH,CAAC;IAEc,0BAAgB,GAA/B,UAAgC,OAAoB,EAAE,MAAmB,EAAE,OAAoB,EAAE,KAAa;QAC5G,IAAA,mCAAoD,EAA7C,cAAI,EAAE,gBAAK,CAAmC;QAErD,EAAE,CAAC,CAAC,KAAK,KAAK,OAAO,CAAC,CAAC,CAAC;YACtB,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;QACnC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;QAC9E,CAAC;IACH,CAAC;IAEc,qBAAW,GAA1B,UAA2B,EAAe;QACjC,wCAAG,CAA+B;QACzC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IACpB,CAAC;IAEc,wBAAc,GAA7B,UAA8B,EAAe;QACpC,8CAAM,CAA+B;QAC5C,MAAM,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAEc,sBAAY,GAA3B,UAA4B,EAAe;QAClC,0CAAI,CAA+B;QAC1C,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;IACrB,CAAC;IAEc,uBAAa,GAA5B,UAA6B,EAAe;QACnC,4CAAK,CAA+B;QAC3C,MAAM,CAAC,CAAC,KAAK,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;IAED,2CAAuB,GAAvB,UAAwB,MAAqB;QAA7C,iBAkBC;QAjBQ,gCAAS,EAAE,wBAAO,CAAW;QAEpC,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC1C,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACxC,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,KAAK,UAAU,CAAC,CAAC,CAAC;YAC1C,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,CAAC;QAED,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;QAEpC,UAAU,CAAC;YACT,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YAEhC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAkB,GAAlB,UAAmB,EAAuD;YAAtD,oBAAO,EAAE,kBAAM,EAAE,oBAAO,EAAE,gBAAK,EAAE,gBAAK;QACxD,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACnD,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QAE5D,EAAE,CAAC,CAAC,KAAK,KAAK,MAAM,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC3D,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QACpD,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACtD,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QACtD,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,KAAK,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC3D,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;QAC/D,CAAC;QAED,EAAE,CAAC,CAAC,KAAK,KAAK,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACzD,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAlFH;QAAC,iBAAU,EAAE;;iBAAA;IAmFb,gBAAC;AAAD,CAlFA,AAkFC,IAAA;AAlFY,iBAAS,YAkFrB,CAAA","file":"app/common/services/dom-appender/dom-appender.service.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {TDrops, TOpens} from '../../types/poistions.type';\n\n@Injectable()\nexport class DomHelper {\n\n  private static setYAxisPosition(element: HTMLElement, anchor: HTMLElement, drops: TDrops) {\n    const {top, bottom} = anchor.getBoundingClientRect();\n\n    if (drops === 'down') {\n      element.style.top = bottom + document.body.scrollTop + 'px';\n    } else {\n      element.style.top = (top + document.body.scrollTop - element.scrollHeight) + 'px';\n    }\n  }\n\n  private static setXAxisPosition(element: HTMLElement, anchor: HTMLElement, dimElem: HTMLElement, opens: TOpens) {\n    const {left, right} = anchor.getBoundingClientRect();\n\n    if (opens === 'right') {\n      element.style.left = left + 'px';\n    } else {\n      element.style.left = left - dimElem.offsetWidth + anchor.offsetWidth + 'px';\n    }\n  }\n\n  private static isTopInView(el: HTMLElement): boolean {\n    const {top} = el.getBoundingClientRect();\n    return (top >= 0);\n  }\n\n  private static isBottomInView(el: HTMLElement): boolean {\n    const {bottom} = el.getBoundingClientRect();\n    return (bottom <= window.innerHeight);\n  }\n\n  private static isLeftInView(el: HTMLElement): boolean {\n    const {left} = el.getBoundingClientRect();\n    return (left >= 0);\n  }\n\n  private static isRightInView(el: HTMLElement): boolean {\n    const {right} = el.getBoundingClientRect();\n    return (right <= window.innerWidth);\n  }\n\n  appendElementToPosition(config: IAppendToArgs): void {\n    const {container, element} = config;\n\n    if (container.style.position === 'static') {\n      container.style.position = 'relative';\n    }\n\n    if (element.style.position !== 'absolute') {\n      element.style.position = 'absolute';\n    }\n\n    element.style.visibility = 'hidden';\n\n    setTimeout(() => {\n      this.setElementPosition(config);\n\n      element.style.visibility = 'visible';\n    });\n  }\n\n  setElementPosition({element, anchor, dimElem, drops, opens}: IAppendToArgs) {\n    DomHelper.setYAxisPosition(element, anchor, drops);\n    DomHelper.setXAxisPosition(element, anchor, dimElem, opens);\n\n    if (drops === 'down' && !DomHelper.isBottomInView(dimElem)) {\n      DomHelper.setYAxisPosition(element, anchor, 'up');\n    }\n\n    if (drops === 'up' && !DomHelper.isTopInView(dimElem)) {\n      DomHelper.setYAxisPosition(element, anchor, 'down');\n    }\n\n    if (opens === 'right' && !DomHelper.isRightInView(dimElem)) {\n      DomHelper.setXAxisPosition(element, anchor, dimElem, 'left');\n    }\n\n    if (opens === 'left' && !DomHelper.isLeftInView(dimElem)) {\n      DomHelper.setXAxisPosition(element, anchor, dimElem, 'right');\n    }\n  }\n}\n\nexport interface IAppendToArgs {\n  container: HTMLElement;\n  element: HTMLElement;\n  anchor: HTMLElement;\n  dimElem: HTMLElement;\n  drops: TDrops;\n  opens: TOpens;\n}"],"sourceRoot":"/source/"}