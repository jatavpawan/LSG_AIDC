{"version":3,"sources":["../src/app/dp-calendar/dp-calendar.component.ts"],"names":[],"mappings":"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","file":"app/dp-calendar/dp-calendar.component.js","sourcesContent":["import {ICalendarMonthConfig} from '../dp-calendar-month/config/calendar-month-config.model';\nimport {IDayEvent} from './../dp-calendar-month/config/day.model';\nimport {ICalendarConfig} from './config/calendar-config.model';\nimport {CalendarService} from './config/calendar.service';\nimport {Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {Moment} from 'moment';\n\n@Component({\n  selector: 'dp-calendar',\n  templateUrl: './dp-calendar.component.html',\n  styleUrls: ['./dp-calendar.component.less'],\n  providers: [CalendarService],\n})\nexport class DpCalendarComponent implements OnChanges {\n  @Input() selected: Moment[];\n  @Input() config: ICalendarConfig;\n\n  @Output() selectedChange: EventEmitter<Moment[]> = new EventEmitter();\n  @Output() dayClick: EventEmitter<IDayEvent> = new EventEmitter();\n  @Output() dayContextMenu: EventEmitter<IDayEvent> = new EventEmitter();\n  @Output() calendarMove: EventEmitter<Moment> = new EventEmitter();\n\n  calendars: ICalendarMonthConfig[];\n\n  constructor(private calendarContainerService: CalendarService) {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.config = this.calendarContainerService.getConfig(this.config);\n    this.calendars = this.calendarContainerService.generateCalendars(\n      this.config,\n      this.selected,\n      this.calendars && this.calendars[0] && this.calendars[0].month\n    );\n  }\n\n  daySelected({day, event}: IDayEvent) {\n    if (!this.config.allowMultiSelect) {\n      // Single selection\n      this.selected = [day.date];\n    } else if (day.selected && this.selected) {\n      // Unselecting a day\n      this.selected = this.selected.filter(val => !val.isSame(day.date, 'day'));\n    } else if (this.config.allowMultiSelect) {\n      // Multi selection\n      this.selected = this.selected ? this.selected.concat(day.date) : [day.date];\n    }\n\n    this.dayClick.emit({day, event});\n    this.selectedChange.emit(this.selected);\n  }\n\n  getMonthToDisplay(month: Moment): string {\n    if (typeof this.config.monthFormatter === 'function') {\n      return this.config.monthFormatter(month);\n    }\n\n    return month.format(this.config.monthFormat);\n  }\n\n  moveCalendars(base: Moment, months: number) {\n    this.calendars = this.calendarContainerService.moveCalendars(this.config, this.selected, base, months);\n    this.calendarMove.emit(this.calendars[0].month);\n  }\n\n  isLeftNavDisabled(month: Moment): boolean {\n    return this.calendarContainerService.isMinMonth(<Moment>this.config.min, month);\n  }\n\n  isRightNavDisabled(month: Moment): boolean {\n    return this.calendarContainerService.isMaxMonth(<Moment>this.config.max, month);\n  }\n}\n"],"sourceRoot":"/source/"}